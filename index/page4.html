<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title></title>
    <link rel="stylesheet" type="text/css" href="../css/index.css">
    <link rel="stylesheet" type="text/css" href="../css/index4.css">
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript">

        var input_item, li_list, total_money, money_item, weight_item, img_2_list;
        let price = [0, 99, 39, 109];
        let weight = [0, 8.4, 0.4, 2.1];
        let amount = [0, 1, 1, 1];
        let select_array = [0, 1, 1, 1];

        $(window).load(function () {
            li_list = document.querySelectorAll("#cart_1");
            input_item = document.querySelectorAll('.number_input');
            money_item = document.querySelectorAll('.money_item_sum');
            weight_item = document.querySelectorAll('.weight_item_sum');
            total_money = document.querySelector("#total_money");
            img_2_list = document.querySelectorAll(".operation_first")
            console.log(input_item);
        })

        function re_calculate_number(x, item) {
            amount[x] = parseInt(item.value);
            sum_money();
            console.log(amount);
            money_item[x - 1].innerHTML = amount[x] * price[x];
            weight_item[x - 1].innerHTML = (amount[x] * weight[x]).toFixed(2) + "kg";
        }

        function add(x) {
            amount[x]++;
            input_item[x - 1].value = amount[x];
            money_item[x - 1].innerHTML = amount[x] * price[x];
            weight_item[x - 1].innerHTML = (amount[x] * weight[x]).toFixed(2) + "kg";
            sum_money();
        }

        function minus(x) {
            if (amount[x] > 0) {
                amount[x]--;
                input_item[x - 1].value = amount[x];
                money_item[x - 1].innerHTML = amount[x] * price[x];
                weight_item[x - 1].innerHTML = (amount[x] * weight[x]).toFixed(2) + "kg";
                sum_money();
            }
        }

        function sum_money() {
            let sum = 0;
            for (let i = 0; i < price.length; i++) {
                if (select_array[i] > 0) {
                    sum += price[i] * amount[i];
                }
            }
            total_money.innerHTML = sum;
        }

        function p4_cart_changeimg(x) {
            let temp = '.operation_first_' + x;
            console.log(temp);
            if ($(temp).attr('src') == '../img/page4/love.png') {
                $(temp).attr('src', '../img/page4/love-Selecetd.png');

            } else {
                $(temp).attr('src', '../img/page4/love.png');
            }
        }

        function onclick_cart_changeimg(x) {
            console.log("1");
            let temp = '#frame_gou_' + x;
            if ($(temp).attr('src') == '../img/page4/frame_gou.png') {
                $(temp).attr('src', '../img/page4/gou_frame_false.png');
                select_array[x] = 0;
            } else {
                select_array[x] = 1;
                $(temp).attr('src', '../img/page4/frame_gou.png');
            }
            let sum = 0;
            for (let i = 0; i < price.length; i++) {
                if (select_array[i] > 0) {
                    sum += price[i] * amount[i];
                }
            }
            total_money.innerHTML = sum;
        }


        function p4_cart_delete(x) {
            li_list[x - 1].style.display = "none";
            select_array[x] = 0;
            alert("移除成功！");
            let sum = 0;
            for (let i = 0; i < price.length; i++) {
                if (select_array[i] > 0) {
                    sum += price[i] * amount[i];
                }
            }
            total_money.innerHTML = sum;
        }


        function checkboxOnclick(checkbox) {
            if (checkbox.checked == true) {
                for (let i = 0; i < 4; i++) {
                    let temp = '#frame_gou_' + i;
                    $(temp).attr('src', '../img/page4/frame_gou.png');
                    select_array[i] = 1;
                }
                let sum = 0;
                for (let i = 0; i < price.length; i++) {
                    if (select_array[i] > 0) {
                        sum += price[i] * amount[i];
                    }
                }
                total_money.innerHTML = sum;
            } else {
                for (let i = 0; i < 4; i++) {
                    let temp = '#frame_gou_' + i;
                    $(temp).attr('src', '../img/page4/gou_frame_false.png');
                    select_array[i] = 0;
                }
                total_money.innerHTML = 0;
            }
        }

        function a() {
            console.log("22");
        }

    </script>
</head>
<body>
<!-- 顶部条 -->
<div style="display: flex;flex-direction: column">
    <div class="hd_header_wrap">
        <div style="width: 1070px;height: 13.75rem;">
            <div class="hd_header_bar">
                <div>
                    <div class="flex">
                        <a href="./index.html" style="display: flex">
                            <img src="../img/index.png" class="location">
                            <span style="padding-left: 3px;">首页</span>
                        </a>
                    </div>
                    <div class="flex" style="margin-left: 20px;">
                        <img src="../img/location.png" class="location">
                        <span style="padding-left: 3px;">送货地址:</span>
                        <em>杭州</em>
                    </div>
                    <div class="flex" style="margin-left: 20px;">
                        <img src="../img/notification.png" class="location">
                        <marquee direction="left" scrollamount="1" loop="-1">
                            <ul style="display: flex;flex-direction: column;top: 0px" id="top_lunbo">

                                <a href="" title="防范金融诈骗提示">
                                    <li>
											<span class="spanleft">
												防范金融诈骗提示 1号店配送费调整公告 金融下线公告
											</span>
                                        <br>
                                    </li>
                                </a>
                            </ul>
                        </marquee>
                    </div>
                </div>
                <div>
                    <div class="flex">
                        <span style="padding-left: 3px;">晚上好， </span>
                        <span style="color: red;">骆佳俊</span>
                    </div>
                    <div class="flex" style="margin-left: 20px;">
                        <span style="padding-left: 3px;color: #AAAAAA;">充值</span>
                    </div>
                    <div class="flex" style="margin-left: 20px">
                        <a href="./index5.html" style="display: flex">
                            <img src="../img/membership.png" class="location">
                            <span style="padding-left: 3px;">会员俱乐部</span>
                        </a>
                    </div>
                    <div class="flex" style="margin-left: 20px;">
                        <img src="../img/order.png" class="location">
                        <span style="padding-left: 3px;">我的订单</span>
                    </div>
                </div>
            </div>
            <div style="display: flex;flex-direction: column">
                <div style="display:flex;align-items: center;height: 60px;justify-content: center">
                    <img src="../img/page4/yhd_img.png" alt="" class="img_home">
                    <img src="../img/page4/cart_img.png" alt="" class="img_cart">
<!--                    <span>配送至:杭州</span>-->
                </div>

                <div style="height: 20px;display: flex;align-items: center" id="order_title_all">
                    <input type="checkbox" id="select_all" onclick="checkboxOnclick(this)">
                    <ul>
                        <li>全选</li>
                        <li>商品信息</li>
                        <li>单价(元)</li>
                        <li>数量</li>
                        <li>小计(元)</li>
                        <li>操作</li>
                    </ul>
                </div>

                <div style="position: relative;border: 1px solid #dcdcdc;border-radius: 3px;">
                    <div class="order_demo_title" style="height: 56px;">
                        <img src="../img/page4/frame_gou.png" alt="" class="frame_gou" style="visibility: hidden">
                        <span>安佳官方旗舰店</span>
                        <img src="../img/page4/icon_ali.png" alt="" class="ali_icon">
                        <img src="../img/page4/ticket.png" alt="">
                    </div>

                    <div class="order_demo_content" style="height: 50px;">
                        <div class="order_demo_content_top">
                            <img src="../img/page4/frame_gou.png" alt="" class="frame_gou" id="frame_gou_0"
                                 onclick="onclick_cart_changeimg(0)">
                            <span>换购</span>
                            <span>指定商品满59元加49元可换购商品 </span>
                            <span></span>
                            <span>已购满59.00元 ，可优惠换购 </span>
                            <span></span>
                        </div>
                    </div>

                    <div class="order_demo_item">
                        <ul>
                            <li id="cart_1">
                                <img src="../img/page4/frame_gou.png" alt="" class="frame_gou" id="frame_gou_1"
                                     onclick="onclick_cart_changeimg(1)">
                                <img src="../img/page4/order/order_thing_1.jpg" alt="">
                                <span>【24盒整箱+6盒单支】安佳牛奶 纯牛奶进口 全脂牛奶250ml*30盒 </span>
                                <span class="seven_day">7</span>
                                <span>99.00</span>
                                <div class="number_add_minus">
                                    <span onclick="minus(1)" class="minus">-</span>
                                    <input oninput="value=value.replace(/[^\d]/g,'')"
                                           value="1"
                                           class="number_input"
                                           min="0"
                                           onchange="re_calculate_number(1,this)">
                                    <span onclick="add(1)" class="add">+</span>
                                </div>
                                <div class="money">
                                    <span class="money_item_sum">
                                    99
                                    </span>
                                    <span class="weight_item_sum">
                                    8.4kg
                                    </span>
                                </div>
                                <div class="operation">
                                    <img src="../img/page4/love.png" alt="" class="operation_first_1"
                                         onclick="p4_cart_changeimg(1)">
                                    <img src="../img/page4/delete.png" alt="" onclick="p4_cart_delete(1)">
                                </div>
                            </li>
                            <li id="cart_1">
                                <img src="../img/page4/frame_gou.png" alt="" class="frame_gou" id="frame_gou_2"
                                     onclick="onclick_cart_changeimg(2)">
                                <img src="../img/page4/order/order_thing_2.jpg" alt="">
                                <span>    卡通可爱毛绒小包包女包新款2019秋冬韩版百搭单肩斜挎包 米色</span>
                                <span class="seven_day">7</span>
                                <span>39.00</span>
                                <div class="number_add_minus">
                                    <span onclick="minus(2)" class="minus">-</span>
                                    <input oninput="value=value.replace(/[^\d]/g,'')"
                                           value="1"
                                           class="number_input"
                                           min="0"
                                           onchange="re_calculate_number(2,this)">
                                    <span onclick="add(2)" class="add">+</span>
                                </div>
                                <div class="money">
                                    <span class="money_item_sum">
                                    39
                                    </span>
                                    <span class="weight_item_sum">
                                    0.4kg
                                    </span>
                                </div>
                                <div class="operation">
                                    <img src="../img/page4/love.png" alt="" class="operation_first_2"
                                         onclick="p4_cart_changeimg(2)">
                                    <img src="../img/page4/delete.png" alt="" onclick="p4_cart_delete(2)">
                                </div>
                            </li>
                            <li id="cart_1">
                                <img src="../img/page4/frame_gou.png" alt="" class="frame_gou" id="frame_gou_3"
                                     onclick="onclick_cart_changeimg(3)">
                                <img src=" ../img/page4/order/order_thing_3.jpg" alt="">
                                <span>     装手机的小包包妈妈款 2019新款中老女包妈妈手拎包单肩斜挎包</span>
                                <span class="seven_day">7</span>
                                <span>109.00</span>
                                <div class="number_add_minus">
                                    <span onclick="minus(3)" class="minus">-</span>
                                    <input oninput="value=value.replace(/[^\d]/g,'')"
                                           value="1"
                                           class="number_input"
                                           min="0"
                                           onchange="re_calculate_number(3,this)">
                                    <span onclick="add(3)" class="add">+</span>
                                </div>
                                <div class="money">
                                    <span class="money_item_sum">
                                    109
                                    </span>
                                    <span class="weight_item_sum">
                                    2.1kg
                                    </span>
                                </div>
                                <div class="operation">
                                    <img src="../img/page4/love.png" alt="" class="operation_first_3"
                                         onclick="p4_cart_changeimg(3)">
                                    <img src="../img/page4/delete.png" alt="" onclick="p4_cart_delete(3)">
                                </div>
                            </li>
                        </ul>
                    </div>

                    <div class="order_demo_bottom">
                        <span>已选商品 <b>2</b> 件            |</span>
                        <div style="display: inline;position: absolute;top: 12px;right: 140px;">
                            <span>合计</span>
                            <span> ￥<b style="font-size: 20px;color: red" id="total_money">247</b> </span>
                        </div>
                        <div class="calculate" >去结算</div>
                    </div>
                </div>
            </div>

            <div>

            </div>
            <div id="bottom_parent">
                <div id="bottom">
                    <ul>
                        <li>
                            <img src="../img/bottom/bottom1.jpg" alt="">
                            <div style="display: flex;flex-direction: column;">
                                <b>正品保证</b>
                                <span>正品行货 放心选购</span>
                            </div>
                        </li>
                        <li>
                            <img src="../img/bottom/bottom1.jpg" alt="">
                            <div style="display: flex;flex-direction: column;">
                                <b>正品保证</b>
                                <span>正品行货 放心选购</span>
                            </div>
                        </li>
                        <li>
                            <img src="../img/bottom/bottom1.jpg" alt="">
                            <div style="display: flex;flex-direction: column;">
                                <b>正品保证</b>
                                <span>正品行货 放心选购</span>
                            </div>
                        </li>
                        <li>
                            <img src="../img/bottom/bottom1.jpg" alt="">
                            <div style="display: flex;flex-direction: column;">
                                <b>正品保证</b>
                                <span>正品行货 放心选购</span>
                            </div>
                        </li>
                    </ul>
                    <div style="background-color:#ebebeb;width: 100%;height: 1px;margin-top: -10px"></div>
                    <div style="background-color: white;height: 150px">
                        <dl>
                            <dt>新手入门</dt>
                            <dd>购物流程</dd>
                            <dd>会员制度</dd>
                            <dd>订单查询</dd>
                            <dd>服务协议及隐私说明</dd>
                            <dd>网站地图</dd>
                        </dl>
                        <dl>
                            <dt>支付方式</dt>
                            <dd>货到付款</dd>
                            <dd>网上支付</dd>
                            <dd>礼品卡支付</dd>
                            <dd>其它支付</dd>
                        </dl>
                        <dl>
                            <dt>配送服务</dt>
                            <dd>配送进度查询</dd>
                            <dd>商品验货与签收</dd>
                        </dl>
                        <dl>
                            <dt>相关规则</dt>
                            <dd>平台规则</dd>
                            <dd>退换货政策</dd>
                            <dd>发票制度</dd>
                            <dd>帮助中心</dd>
                        </dl>
                        <div style="display: flex;flex-direction: row">
                            <div class="bottom_code">
                                <span>APP更优惠</span>
                                <img src="../img/bottom/code1.png" alt="">
                            </div>
                            <div class="bottom_code" style="margin-left: 40px">
                                <span>加微信查订单</span>
                                <img src="../img/bottom/code2.jpg" alt="">
                            </div>
                        </div>
                    </div>


                </div>
                <div id="bottom_span">
                    <a href="">沪ICP备16050468号</a>
                    |
                    <a href="">经营证照</a>
                    |

                    <a href="">互联网药品信息服务资格证(沪)-经营性-2017-0006</a>
                    |
                    <a href="">违法和不良信息举报电话：0527-88100253</a>
                    |
                    <a href="">沪B2-20170039</a>
                    |
                    <a href="">沪公网安备 31010502002939号</a>
                    |
                    <a href="">友情链接 </a>
                    |
                    <a href="">出版物经营许可证</a>
                    |
                    <a href="">增值电信业务经营许可证</a>
                    <span>Copyright© 1号店网上超市 2007-2019，All Rights Reserved</span>
                </div>

            </div>
        </div>
    </div>

</div>

</div>
</div>
</body>
</html>
